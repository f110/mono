load("@io_bazel_rules_go//go:def.bzl", "go_library")

go_library(
    name = "cbgo",
    srcs = [
        "adv.go",
        "att.go",
        "bt.go",
        "bt.h",
        "bt.m",
        "btdlg.m",
        "cbhandlers.go",
        "central.go",
        "centralmanager.go",
        "centralmanagerdelegate.go",
        "characteristic.go",
        "cmgr.m",
        "core.go",
        "cutil.go",
        "descriptor.go",
        "manager.go",
        "mutablecharacteristic.go",
        "mutabledescriptor.go",
        "mutableservice.go",
        "peripheral.go",
        "peripheraldelegate.go",
        "peripheralmanager.go",
        "peripheralmanagerdelegate.go",
        "pmgr.m",
        "ptrmap.go",
        "service.go",
        "util.m",
    ],
    cgo = True,
    clinkopts = ["-framework Foundation -framework CoreBluetooth"],
    copts = ["-x objective-c"],
    importmap = "go.f110.dev/mono/vendor/github.com/JuulLabs-OSS/cbgo",
    importpath = "github.com/JuulLabs-OSS/cbgo",
    visibility = ["//visibility:public"],
    deps = ["//vendor/github.com/sirupsen/logrus"],
)
